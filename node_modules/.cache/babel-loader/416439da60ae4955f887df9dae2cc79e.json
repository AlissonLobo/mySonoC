{"remainingRequest":"C:\\projetos\\sonocaps-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\projetos\\sonocaps-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\projetos\\sonocaps-vue\\src\\global\\tagmanager.js","dependencies":[{"path":"C:\\projetos\\sonocaps-vue\\src\\global\\tagmanager.js","mtime":1630994108802},{"path":"C:\\projetos\\sonocaps-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\projetos\\sonocaps-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\projetos\\sonocaps-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKdmFyIFRhZ01hbmFnZXIgPSB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICAgIC8vIEV4OiAkZ3RtQmFubmVyRXZlbnQobm9tZSkKICAgIC8vIEFDSU9OQSBFVkVOVE8gR09PR0xFIFRBRyBNQU5BR0VSIEVNIEJBTk5FUgogICAgVnVlLnByb3RvdHlwZS4kZ3RtQmFubmVyRXZlbnQgPSBmdW5jdGlvbiAobm9tZSwgZGF0YSwgZGVzdGlubykgewogICAgICB2YXIgZGF0YVJlY2ViaWRhID0gZGF0YS5zbGljZSgwLCAxMCk7CiAgICAgIHZhciBub21lRm9ybWF0YWRvID0gZGF0YVJlY2ViaWRhICsgJy0nICsgbm9tZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIiAiLCAiLSIpOwogICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goewogICAgICAgIGV2ZW50OiAncHJvbW90aW9uQ2xpY2snLAogICAgICAgIGVjb21tZXJjZTogewogICAgICAgICAgcHJvbW9DbGljazogewogICAgICAgICAgICBwcm9tb3Rpb25zOiBbewogICAgICAgICAgICAgIG5hbWU6ICdCYW5uZXJzJywKICAgICAgICAgICAgICBjcmVhdGl2ZTogbm9tZUZvcm1hdGFkbywKICAgICAgICAgICAgICBwb3NpdGlvbjogMAogICAgICAgICAgICB9XQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGRlc3Rpbm8gIT0gdW5kZWZpbmVkID8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkZXN0aW5vIDogZGVzdGlubyA9IG51bGw7CiAgICB9OyAvLyBFeDogJGd0bVZpdHJpbmVEYXRhTGF5ZXIodGl0dWxvLHByb2R1dG9zKQogICAgLy8gT0JUw4lNIE8gQVRSSUJVVE8gw5pOSUNPIERPIFBST0RVVE8KCgogICAgVnVlLnByb3RvdHlwZS4kZ3RtRGF0YUxheWVyR2V0QXRyaWJ1dG9Vbmljb1Byb2R1dG8gPSBmdW5jdGlvbiAocHJvZHV0bykgewogICAgICAvL1ZFUklGSUNBIEEgRVhJU1TDik5DSUEgREUgQVRSSUJVVE9TCiAgICAgIGlmICghcHJvZHV0by5hdHJpYnV0b3MgfHwgIXByb2R1dG8uYXRyaWJ1dG9zLnVuaWNvKSByZXR1cm4gIsOabmljbyI7IC8vVkVSSUZJQ0EgTyBBVFJJQlVUTyDDmk5JQ08gU0VMRUNJT05BRE8KCiAgICAgIHZhciBhdHJpYnV0b1VuaWNvID0gcHJvZHV0by5hdHJpYnV0b3MudW5pY28udmFsb3Jlcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc2VsZWNpb25hZG87CiAgICAgIH0pOyAvL1JFVE9STkEgTyBWQUxPUiBTRUxFQ0lPTkFETwoKICAgICAgcmV0dXJuIGF0cmlidXRvVW5pY28gPyBhdHJpYnV0b1VuaWNvLmxhYmVsLnRyaW0oKSA6IHByb2R1dG8uYXRyaWJ1dG9zLnVuaWNvLnZhbG9yZXNbMF0ubGFiZWwudHJpbSgpOwogICAgfTsgLy8gRXg6ICRndG1WaXRyaW5lRGF0YUxheWVyKHRpdHVsbyxwcm9kdXRvcykKICAgIC8vIEFESUNJT05BIERBVEFMQVlFUlMgREUgVklUUklORVMKCgogICAgVnVlLnByb3RvdHlwZS4kZ3RtVml0cmluZURhdGFMYXllciA9IGZ1bmN0aW9uICh0aXR1bG8sIHByb2R1dG9zKSB7CiAgICAgIHZhciBfdGl0dWxvOwoKICAgICAgLy9JTVBSRVNTw5VFUwogICAgICB2YXIgaW1wcmVzc2lvbnMgPSBbXTsgLy9WQUxJREHDh8ODTyBUTyBUw41UVUxPCgogICAgICB0aXR1bG8gPSAoX3RpdHVsbyA9IHRpdHVsbykgIT09IG51bGwgJiYgX3RpdHVsbyAhPT0gdm9pZCAwID8gX3RpdHVsbyA6ICJWaXRyaW5lIjsgLy9JVEVSQSBPUyBQUk9EVVRPUwoKICAgICAgcHJvZHV0b3MubWFwKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIC8vQVRSSUJVVE8gw5pOSUNPIERPIFBST0RVVE8KICAgICAgICB2YXIgYXRyaWJ1dG9VbmljbyA9IFZ1ZS5wcm90b3R5cGUuJGd0bURhdGFMYXllckdldEF0cmlidXRvVW5pY29Qcm9kdXRvKHZhbHVlKTsgLy9JTVBSRVNTSU9OIEZJRUxEIE9CSkVDVAoKICAgICAgICBpbXByZXNzaW9ucy5wdXNoKHsKICAgICAgICAgIGlkOiB2YWx1ZS5pZCwKICAgICAgICAgIG5hbWU6IHZhbHVlLm5vbWUudHJpbSgpLAogICAgICAgICAgbGlzdDogdGl0dWxvLnRyaW0oKSwKICAgICAgICAgIGxpc3RfbmFtZTogdGl0dWxvLnRyaW0oKSwKICAgICAgICAgIGJyYW5kOiB2YWx1ZS5tYXJjYS5ub21lLnRyaW0oKSwKICAgICAgICAgIHZhcmlhbnQ6IGF0cmlidXRvVW5pY28sCiAgICAgICAgICBwb3NpdGlvbjogaW1wcmVzc2lvbnMubGVuZ3RoICsgMSwKICAgICAgICAgIGxpc3RfcG9zaXRpb246IGltcHJlc3Npb25zLmxlbmd0aCArIDEsCiAgICAgICAgICBwcmljZTogdmFsdWUucHJlY29zLnBvcgogICAgICAgIH0pOwogICAgICB9KTsgLy9EQVRBTEFZRVIgUFVTSAoKICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHsKICAgICAgICBlY29tbWVyY2U6IHsKICAgICAgICAgIGN1cnJlbmN5Q29kZTogIkJSTCIsCiAgICAgICAgICBpbXByZXNzaW9uczogaW1wcmVzc2lvbnMKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IFRhZ01hbmFnZXI7IC8vIFNFIE7Dg08gUkVDRUJFUiBQQVJBTUVUUk8gREUgREFUQSwgQUNJT05BIEEgREFUQSBBVFVBTAovLyBsZXQgZGF0YUF0dWFsID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygiZW4tQ0EiLCB7dGltZVpvbmU6ICJBbWVyaWNhL0ZvcnRhbGV6YSJ9KS5zbGljZSgwLDEwKTsKLy8gbGV0IGRhdGFSZWNlYmlkYSA9IGRhdGEgPyBkYXRhIDogZGF0YUF0dWFsOw=="},{"version":3,"sources":["C:/projetos/sonocaps-vue/src/global/tagmanager.js"],"names":["TagManager","install","Vue","prototype","$gtmBannerEvent","nome","data","destino","dataRecebida","slice","nomeFormatado","toLowerCase","replace","window","dataLayer","push","event","ecommerce","promoClick","promotions","name","creative","position","undefined","location","href","$gtmDataLayerGetAtributoUnicoProduto","produto","atributos","unico","atributoUnico","valores","find","item","selecionado","label","trim","$gtmVitrineDataLayer","titulo","produtos","impressions","map","value","id","list","list_name","brand","marca","variant","length","list_position","price","precos","por","currencyCode"],"mappings":"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","sourcesContent":["const TagManager = {\r\n\r\n  install(Vue) {\r\n    // Ex: $gtmBannerEvent(nome)\r\n    // ACIONA EVENTO GOOGLE TAG MANAGER EM BANNER\r\n    Vue.prototype.$gtmBannerEvent = function (nome, data, destino) {\r\n\r\n      let dataRecebida = data.slice(0, 10);\r\n      let nomeFormatado = dataRecebida + '-' + nome.toLowerCase().replace(\" \", \"-\");\r\n\r\n      window.dataLayer.push({\r\n        event: 'promotionClick',\r\n        ecommerce: {\r\n          promoClick: {\r\n            promotions: [{\r\n              name: 'Banners',\r\n              creative: nomeFormatado,\r\n              position: 0\r\n            }]\r\n          }\r\n        }\r\n      });\r\n\r\n      destino != undefined ? window.location.href = destino : destino = null\r\n    }\r\n\r\n    // Ex: $gtmVitrineDataLayer(titulo,produtos)\r\n    // OBTÉM O ATRIBUTO ÚNICO DO PRODUTO\r\n    Vue.prototype.$gtmDataLayerGetAtributoUnicoProduto =  function (produto){\r\n      //VERIFICA A EXISTÊNCIA DE ATRIBUTOS\r\n      if(!produto.atributos || !produto.atributos.unico) return \"Único\";\r\n\r\n      //VERIFICA O ATRIBUTO ÚNICO SELECIONADO\r\n      let atributoUnico = produto.atributos.unico.valores.find(function(item){\r\n        return item.selecionado;\r\n      });\r\n\r\n      //RETORNA O VALOR SELECIONADO\r\n      return atributoUnico ? atributoUnico.label.trim() : produto.atributos.unico.valores[0].label.trim();\r\n    }\r\n\r\n    // Ex: $gtmVitrineDataLayer(titulo,produtos)\r\n    // ADICIONA DATALAYERS DE VITRINES\r\n    Vue.prototype.$gtmVitrineDataLayer = function (titulo, produtos) {\r\n      //IMPRESSÕES\r\n      let impressions = [];\r\n\r\n      //VALIDAÇÃO TO TÍTULO\r\n      titulo = titulo ?? \"Vitrine\";\r\n\r\n      //ITERA OS PRODUTOS\r\n      produtos.map(function(value){\r\n\r\n        //ATRIBUTO ÚNICO DO PRODUTO\r\n        let atributoUnico = Vue.prototype.$gtmDataLayerGetAtributoUnicoProduto(value);\r\n\r\n        //IMPRESSION FIELD OBJECT\r\n        impressions.push({\r\n                        id: value.id,\r\n                        name: value.nome.trim(),\r\n                        list: titulo.trim(),\r\n                        list_name: titulo.trim(),\r\n                        brand: value.marca.nome.trim(),\r\n                        variant: atributoUnico,\r\n                        position: (impressions.length + 1),\r\n                        list_position: (impressions.length + 1),\r\n                        price: value.precos.por\r\n                      });\r\n      });\r\n\r\n      //DATALAYER PUSH\r\n      window.dataLayer.push({\r\n        ecommerce:{\r\n          currencyCode: \"BRL\",\r\n          impressions: impressions\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default TagManager;\r\n\r\n\r\n\r\n\r\n\r\n// SE NÃO RECEBER PARAMETRO DE DATA, ACIONA A DATA ATUAL\r\n// let dataAtual = new Date().toLocaleString(\"en-CA\", {timeZone: \"America/Fortaleza\"}).slice(0,10);\r\n// let dataRecebida = data ? data : dataAtual;\r\n"]}]}